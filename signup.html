<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Signup</title>
        <style>
                * {
                        padding: 0px;
                        margin: 0px
                }

                form {

                        border: 1px solid black;
                        width: 220px;
                        margin: auto;
                        margin-top: 20px;
                }

                form input {
                        padding: 10px 12px;
                        margin: 10px;
                }

                button {
                        display: block;
                        margin: auto;
                }
        </style>
</head>

<body>
        <form>
                <input id="names" type="text" placeholder="Name">
                <input id="email" type="email" placeholder="Mail">
                <input id="subbtn" type="text" placeholder="Password">
                <button>Signup</button>
        </form>

</body>

</html>
<script>
        let form = document.querySelector("form");
        // step2
        // we have to take data from local storage
        let userData = JSON.parse(localStorage.getItem("localdata")) || [];


        form.addEventListener("submit", submitform)
        function submitform() {
                event.preventDefault()
                let data = {
                        name: form.names.value,
                        email: form.email.value,
                        password: form.subbtn.value,

                }
                // console.log(data)



                // step-3

                // we have to check emails exist previously or not
                if (checkEmails(data.email) === true) {

                        // step-4
                        // we have to set data in a local storage so we can access the data for line no.50 or step2
                        userData.push(data)
                        localStorage.setItem("localdata", JSON.stringify(userData))

                } else {
                        alert("Account already Exists")
                }



        }

        // emails are going in this function whether emails of previously stored are matching or not,
        // email=>which user is typing,elem.email=>the mails which are already stored in local storage
        function checkEmails(email) {
                let filtered = userData.filter(function (elem) {
                        return email === elem.email

                })
                // if length 0,meaning email exists?
                if (filtered.length > 0) {
                        return false
                } else {
                        return true
                }
        }
</script>